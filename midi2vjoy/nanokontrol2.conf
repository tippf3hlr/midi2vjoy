# This example maps nanoKONTROL2 to 1 vJoy device with 6 axises and 40 buttons
# This is used for MSFS, and knobs work as buttons that are pressed and released when the knob reaches lowest or highest value
#
# Midi to vJoy translation
# The format is one line for each control in the format of
#       m_type, m_control, m_value, v_id, v_number, [v_output]
# m_type is the 176 (slider) or other (button).
# m_control is the ID of the midi message.
# m_value is the value of the midi message (valid only for buttons, use * to match any).
# The [m_type, m_control, m_value, ..] of each MIDI input can be found
# when running the program in test mode. Just push/move the control
# and watch the messages showing up on the screen.
# v_id is the vJoystick ID where the MIDI message is translated to.
# v_number is the axis or button number MIDI message is contolling.
# v_output is only available for buttons. if it is not specified, output is 'down'.
#   Special 'press_and_release' output preses buton and then releases it. useful for mapping slider end positions to 
#   buttons, to avoid a situation where such slider cause constant button down in a sim. In MSFS this causes heading indicator
#   to skip 10 values for some reason
# The axis may be 'X', 'Y', 'Z', 'RX', 'RY', 'RZ', 'SL0', or 'SL1'.
#
# If nanoCONTROL2 is not recognized, other midi devices have probably hijacked midi slots.
# 
# - Open Computer\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Drivers32 path in regedit as explained
# - midi1 - midi9 probably has other value than the KORGUM64.drv
# - Run Start -> KORG -> Install KORG USB-MIDI Device, confirm admin prompt, DO NOT CLICK INSTALL
# - Go back to regedit, delete midi1 - midi9 entries
# - Hit F5 in regedit to confirm that they are gone (pluggin/unplugging a device will re-create them immediately)
# - Go back to "Install KORG USB-MIDI Device", HIT INSTALL
# - Go back to regedit, hit F5, confirm that now first entries contain KORGUM64.drv, this means the KORG device will be seen

# sliders
# input     vjoy index      axis
176 36 *    1               X
176 37 *    1               Y
176 38 *    1               Z
176 39 *    1               RX
176 40 *    1               RY
176 41 *    1               RZ
176 42 *    1               SL0
176 43 *    1               SL1

# knobs as buttons
# input     vjoy index      output button       action
176 0 0     1               1                   press_and_release
176 0 127   1               2                   press_and_release

176 1 0     1               3                   press_and_release
176 1 127   1               4                   press_and_release

176 2 0     1               5                   press_and_release
176 2 127   1               6                   press_and_release

176 3 0     1               7                   press_and_release
176 3 127   1               8                   press_and_release

176 4 0     1               9                   press_and_release
176 4 127   1               10                  press_and_release

176 5 0     1               11                  press_and_release
176 5 127   1               12                  press_and_release

176 6 0     1               13                  press_and_release
176 6 127   1               14                  press_and_release

176 7 0     1               15                  press_and_release
176 7 127   1               16                  press_and_release

# buttons
# input     vjoy index      output button       action
144 0 *     1               17                  down
128 0 *     1               17                  up
144 72 *    1               18                  down
128 72 *    1               18                  up

144 1 *     1               19                  down
128 1 *     1               19                  up
144 37 *    1               20                  down
128 37 *    1               20                  up
144 73 *    1               21                  down
128 73 *    1               21                  up

144 2 *     1               22                  down
128 2 *     1               22                  up
144 38 *    1               23                  down
128 38 *    1               23                  up
144 74 *    1               24                  down
128 74 *    1               24                  up

144 3 *     1               25                  down
128 3 *     1               25                  up
144 39 *    1               26                  down
128 39 *    1               26                  up
144 75 *    1               27                  down
128 75 *    1               27                  up

144 4 *     1               28                  down
128 4 *     1               28                  up
144 40 *    1               29                  down
128 40 *    1               29                  up
144 76 *    1               30                  down
128 76 *    1               30                  up

144 5 *     1               31                  down
128 5 *     1               31                  up
144 41 *    1               32                  down
128 41 *    1               32                  up
144 77 *    1               33                  down
128 77 *    1               33                  up

144 6 *     1               34                  down
128 6 *     1               34                  up
144 42 *    1               35                  down
128 42 *    1               35                  up
144 78 *    1               36                  down
128 78 *    1               36                  up

144 7 *     1               37                  down
128 7 *     1               37                  up
144 43 *    1               38                  down
128 43 *    1               38                  up
144 79 *    1               39                  down
128 79 *    1               39                  up